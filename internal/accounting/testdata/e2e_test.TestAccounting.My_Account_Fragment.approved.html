<form hx-put="/account/profile" hx-target="#profileSaveStatus" hx-ext="json-enc">
  <div class="container container-md w-75 ms-0">
    <div class="row pb-4">
      <div class="col">
        <div class="row mb-3">
          <div class="col text-start display-6">Contact Info</div>
          <div class="col text-end">
            <input type="submit" class="btn btn-primary" value="Save">
          </div>
        </div>
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" name="name" class="form-control" id="name" value="Test User">
        </div>
        <div class="mb-3">
          <label for="emailAddress" class="form-label">Email address</label>
          <input disabled="disabled" type="text" name="email" class="form-control" id="emailAddress" value="example@prmry.io">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col text-center">
        <div id="profileSaveStatus"></div>
      </div>
    </div>
    <div class="row pt-4">
      <div class="col">
        <div id="api-keys" class="container ps-0 text-end">
          <div class="row">
            <div class="col text-start display-6">API Keys</div>
            <div class="col text-end">
              <button class="btn btn-info" id="addApiKey" hx-post="/account/api-keys" hx-target="#api-keys" hx-swap="beforeend">New</button>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <hr>
            </div>
          </div>
          <div class="row text-start pb-3" id="key-123">
            <div class="col">
              <form class="d-inline">
                <div class="apikey-name" id="keyname-123" contenteditable="true" hx-trigger="blur" hx-put="/account/api-keys/123" hx-swap="none" hx-vals="javascript: keyName:htmx.find(&#39;#keyname-123&#39;).innerText" style="cursor: pointer;">Test Key</div>
              </form>
            </div>
            <div class="col">0001-01-01 00:00:00</div>
            <div class="col text-truncate">123</div>
            <div class="col-auto">
              <i class="fa fa-copy me-2" data-copytext="123" onclick="copytext(this)" style="cursor:pointer;"></i>
              <i class="fa fa-trash" style="cursor:pointer;" hx-delete="/account/api-keys/123" hx-target="#key-123" hx-swap="outerHTML" hx-confirm="Delete Test Key?"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<script type="text/javascript" hx-script="true">
  document.getElementById("api-keys").addEventListener('keypress', (event) => {
  if (event.target.classList.contains('apikey-name') && event.key === 'Enter') {
  event.preventDefault();
  event.target.blur();
  }
  });

  document.getElementById("api-keys").addEventListener('focus', (event) => {
  if (event.target.classList.contains('apikey-name')) {
  selectContent(event.target);
  }
  }, true);
</script>
